import{a as Q,b as W}from"./chunk-VKUBE5QY.js";import"./chunk-7T3FGSDY.js";import{B as l,Ca as H,D as P,Da as J,E as N,F as R,Ga as K,I as j,J as T,K as k,L as D,M as V,N as G,V as B,c as O,ma as L,na as q,oa as z,pa as A,q as I,qa as U,za as $}from"./chunk-URQ7JVRI.js";import{$ as _,Oa as h,Qa as m,Ub as w,V as d,Vb as x,Ya as s,Za as a,_a as b,aa as p,bc as S,fb as f,hb as F,pa as M,qb as c,qc as E,rb as y,sc as v,ya as n,za as u}from"./chunk-BOCJVWYR.js";function tt(e,t){if(e&1&&(s(0,"mat-list-item")(1,"mat-error"),c(2),a()()),e&2){let g=t.$implicit;n(2),y(g)}}function et(e,t){if(e&1&&(s(0,"mat-list"),h(1,tt,3,1,"mat-list-item",9),a()),e&2){let g=F();n(),m("ngForOf",g.validationErrors)}}var Y=(()=>{let t=class t{constructor(o,r,i){this.accountService=o,this.router=r,this.fb=i,this.cancelRegister=new M,this.registerForm=new R({})}ngOnInit(){this.initializeForm()}initializeForm(){this.registerForm=this.fb.group({userName:["",l.required],password:["",[l.required,l.minLength(6),l.maxLength(12)]],confirmPassword:["",[l.required,this.matchValues("password")]]}),this.registerForm.controls.password.valueChanges.subscribe({next:()=>this.registerForm.controls.confirmPassword.updateValueAndValidity()})}matchValues(o){return r=>r.value===r.parent?.get(o)?.value?null:{notMatching:!0}}register(){let o=this.registerForm.value;this.accountService.register(o).subscribe({next:()=>{this.router.navigateByUrl("/")},error:r=>{console.log(r.error),this.validationErrors=r.error}})}cancel(){this.cancelRegister.emit(!1),this.router.navigateByUrl("/")}};t.\u0275fac=function(r){return new(r||t)(u(O),u(E),u(D))},t.\u0275cmp=_({type:t,selectors:[["app-register"]],outputs:{cancelRegister:"cancelRegister"},decls:21,vars:11,consts:[[1,"flex","m-auto"],[1,"m-auto"],["color","white"],["autocomplete","off",3,"ngSubmit","formGroup"],[1,"mat-mdc-card__input",3,"formControl","label"],[1,"mat-mdc-card__input",3,"formControl","type","label"],[4,"ngIf"],["color","basic","type","button","mat-raised-button","",3,"click"],["color","accent","type","submit","mat-raised-button","",3,"click","disabled"],[4,"ngFor","ngForOf"]],template:function(r,i){r&1&&(s(0,"div",0)(1,"div",1)(2,"mat-card")(3,"mat-card-title",2),c(4,"Register here"),a(),s(5,"mat-card-subtitle"),c(6,"Enter your login and password here to register."),a(),s(7,"mat-card-content")(8,"form",3),f("ngSubmit",function(){return i.registerForm.valid&&i.register()}),b(9,"app-input-text",4)(10,"mat-divider")(11,"app-input-text",5)(12,"mat-divider")(13,"app-input-text",5)(14,"mat-divider"),a(),h(15,et,2,1,"mat-list",6),a(),s(16,"mat-card-actions")(17,"button",7),f("click",function(){return i.cancel()}),c(18,"Cancel"),a(),s(19,"button",8),f("click",function(){return i.register()}),c(20,"Register"),a()()()()()),r&2&&(n(8),m("formGroup",i.registerForm),n(),m("formControl",i.registerForm.controls.userName)("label","User name"),n(2),m("formControl",i.registerForm.controls.password)("type","password")("label","Password"),n(2),m("formControl",i.registerForm.controls.confirmPassword)("type","password")("label","Confirm password"),n(2),m("ngIf",i.validationErrors),n(4),m("disabled",!i.registerForm.valid))},dependencies:[w,x,j,P,N,T,k,I,L,U,z,A,q,B,$,H,J,Q],styles:[".mat-mdc-card[_ngcontent-%COMP%]{max-width:400px;margin:0 auto;text-align:center}.mat-mdc-card[_ngcontent-%COMP%]   .mat-mdc-card__input[_ngcontent-%COMP%]{width:100%}.mat-mdc-card[_ngcontent-%COMP%]   .mdc-card__actions[_ngcontent-%COMP%]{justify-content:space-between}.mat-mdc-card[_ngcontent-%COMP%]   .mat-mdc-list-item[_ngcontent-%COMP%]{height:20px;text-align:left}.mat-mdc-card[_ngcontent-%COMP%]   .mat-mdc-form-field-error[_ngcontent-%COMP%]{font-size:9px}"]});let e=t;return e})();var rt=[{path:"",component:Y}],Z=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=p({type:t}),t.\u0275inj=d({imports:[v.forChild(rt),v]});let e=t;return e})();var Ot=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=p({type:t}),t.\u0275inj=d({imports:[S,V,G,K,W,Z]});let e=t;return e})();export{Ot as RegisterModule};
