"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[257],{1257:(R,m,a)=>{a.r(m),a.d(m,{SharedModule:()=>O});var S=a(6814),h=a(1896),c=a(7398),g=a(1647),s=a(5879),y=a(8763),C=a(5619),f=a(8180),d=a(9862),P=a(4826);let u=(()=>{var t;class i extends P.q{constructor(e){super(e,"shared")}getComplect(e){const r=(new d.LE).set("id",e);return this.http.get(`${this.rootUrl}getComplect`,{params:r})}}return(t=i).\u0275fac=function(e){return new(e||t)(s.LFG(d.eN))},t.\u0275prov=s.Yz7({token:t,factory:t.\u0275fac}),i})(),v=(()=>{var t;class i{constructor(e){this.sharedHttpService=e,this.complectSource=new C.X(null),this.complect$=this.complectSource.asObservable()}loadComplect(e){return this.sharedHttpService.getComplect(e).pipe((0,c.U)(r=>(this.complectSource.next(r),r)))}clearComplect(){this.complectSource.next(null)}updatePropertyParam(e){this.resetPropertyParams([e])}updatePropertyParams(e){this.resetPropertyParams(e)}resetPropertyParams(e){this.complect$.pipe((0,f.q)(1)).subscribe(r=>{e.forEach(p=>{const o=r?.properties.find(l=>l.id===p.propertyId);o&&(o.params=p)}),this.complectSource.next(r)})}}return(t=i).\u0275fac=function(e){return new(e||t)(s.LFG(u))},t.\u0275prov=s.Yz7({token:t,factory:t.\u0275fac}),i})();var $=a(8685);const M=[{path:":id",component:(()=>{var t;class i{constructor(e,r,p){this.activatedRoute=e,this.toastr=r,this.sharedService=p,this.isMobile=!1,this.subscriptions=[],this.complect$=this.sharedService.complect$.pipe((0,c.U)(o=>o?.complect??null)),this.properties$=this.sharedService.complect$.pipe((0,c.U)(o=>o?.properties??null)),this.items$=this.sharedService.complect$.pipe((0,c.U)(o=>o?.items&&o.properties?o.items.map(l=>g.O.getItem(l,o.properties)):null))}ngOnInit(){const e=this.activatedRoute.paramMap.subscribe(r=>{const p=r.get("id");p?this.subscriptions.push(this.sharedService.loadComplect(p).subscribe(o=>{})):(this.toastr.error("Id is undefined"),this.sharedService.clearComplect())});this.subscriptions.push(e)}ngOnDestroy(){this.subscriptions.forEach(e=>{e&&e.unsubscribe()})}onCurrentCategoryChange(e){}onPropertyParamChange(e){this.sharedService.updatePropertyParam(e)}onPropertyParamsChange(e){this.sharedService.updatePropertyParams(e)}}return(t=i).\u0275fac=function(e){return new(e||t)(s.Y36(h.gz),s.Y36(y._W),s.Y36(v))},t.\u0275cmp=s.Xpm({type:t,selectors:[["app-shared"]],decls:3,vars:8,consts:[[1,"shared"],["shared",""],[1,"block","complect-items","active",3,"isMobile","isActive","complect$","items$","properties$","isReadonly","propertyParamsChange","propertyParamChange"]],template:function(e,r){1&e&&(s.TgZ(0,"section",0,1)(2,"app-complect-items",2),s.NdJ("propertyParamsChange",function(o){return r.onPropertyParamsChange(o)})("propertyParamChange",function(o){return r.onPropertyParamChange(o)}),s.qZA()()),2&e&&(s.ekj("mobile",r.isMobile),s.xp6(2),s.Q6J("isMobile",r.isMobile)("isActive",!0)("complect$",r.complect$)("items$",r.items$)("properties$",r.properties$)("isReadonly",!0))},dependencies:[$.J],styles:[".shared[_ngcontent-%COMP%]{display:flex;justify-content:stretch;align-items:stretch;width:100%;height:100%;gap:5px;padding:5px}.shared[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{flex:1 0 auto;height:100%;width:100%}"]}),i})()}];let b=(()=>{var t;class i{}return(t=i).\u0275fac=function(e){return new(e||t)},t.\u0275mod=s.oAB({type:t}),t.\u0275inj=s.cJS({imports:[h.Bz.forChild(M),h.Bz]}),i})();var F=a(1658);let O=(()=>{var t;class i{}return(t=i).\u0275fac=function(e){return new(e||t)},t.\u0275mod=s.oAB({type:t}),t.\u0275inj=s.cJS({providers:[u,v],imports:[S.ez,b,F.C]}),i})()}}]);